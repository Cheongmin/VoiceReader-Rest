language: python
python: 3.7
dist: xenial
sudo: true

# command to install dependencies
install:
  - pip install -r requirements.txt
# command to run tests
script:
  - pytest

branches:
    only:
        - dev
        - master

deploy:
  provider: script
  # specify the deployment script
  script: bash scripts/deploy.sh
  # specify to deploy with code change a given branch
  on:
    branch: dev

notifications:
  slack:
    rooms:
      - soundright:S3MSovZcyt8SLApWT8wmSYW5#development
